<div class="container mt-4">
  <i *ngIf="testForStudentRole()" class="fa fa-arrow-circle-left" [routerLink]="['/admin/students']"></i>
  <i *ngIf="testForStudentRole() === false" class="fa fa-arrow-circle-left" [routerLink]="['/admin/volunteers']"></i>
  <div *ngIf="!nameEditOn" class="row prof mt-4">
    {{user.firstName}} {{user.lastName}}
    <p (click)="nameEditClick()" id="name-edit-link">edit</p>
  </div>

  <div id="name-edit" class="row input-group-append" *ngIf="nameEditOn">
    <!-- <input class="form-control input-sm" type="text" value="{{user.firstName}}"> -->
    <!-- <input class="form-control input-sm" type="text" value="{{user.lastName}}"> -->
    <form #editForm="ngForm" id="editForm" (ngSubmit)="updateUser(editForm)">
      <input rows="1" class="form-control input-sm" type="text" [(ngModel)]="user.firstName" name="first">
      <input rows="1" class="form-control input-sm" type="text" [(ngModel)]="user.lastName" name="last">
      <button id="btn-primary" class="btn btn-primary" type="submit">Update</button>
      <button id="btn-cancel" class="btn" (click)="this.nameEditClick()">Cancel</button>
    </form>
    
  </div>

  <div>
    <div class="row prof-ind" *ngFor="let userRole of user.userRoles">
      <p *ngIf="userRole !== user.userRoles[0]">, </p>
      {{userRole.role.name}}
      <p *ngIf="testForStudentRole()===false" id="role-edit-link" (click)="roleEditClick()">edit</p>
    </div>
  </div>

  <div *ngIf="roleEditOn">
    <form #editForm="ngForm" id="editForm" (ngSubmit)="updateUser(editForm)">
      <div *ngFor="let r of studentRole">
        <label>
          <input
            type="checkbox"
            name="role-{{r.display}}"
            [(ngModel)]="r.checked">
          {{ r.display }}
            <br>
        </label>
      </div>      
      <button id="btn-primary" class="btn btn-primary" type="submit">Update</button>
      <button id="btn-cancel" class="btn" (click)="this.roleEditClick()">Cancel</button>
    </form>
  </div>
  <br>
  
  <div class="prof">
    Id# {{user.id}}
  </div>
  <div class="prof">
    Last Active : {{user.lastActive | date: 'mediumDate'}}
  </div>
  
  <div class="mt-4">
    <app-user-messages [recipientId]="user.id"></app-user-messages>
  </div>

  <button class="btn btn-primary mt-5" (click)="deleteUser(user.id)">
    Delete {{user.firstName}}  {{user.lastName}}'s profile
  </button>


</div>


